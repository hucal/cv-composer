var PI,add_to,camera,camera_far,controls,controls_active,i,j,k,len,len1,len2,make_line,make_p_line,make_p_point,make_plane,make_point,obj,r2,r2_objects,render,renderer,root_objects,s2,s2_objects,scene,time,transform,vec3,vec3_from_array;for(Detector.webgl||Detector.addGetWebGLMessage,scene=new THREE.Scene,camera_far=5e3,camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,camera_far),renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.domElement),window.addEventListener("resize",function(){return camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}),vec3=function(e,n,o){return new THREE.Vector3(e,n,o)},vec3_from_array=function(e){return vec3(e[0],e[1],e.length>2?e[2]:1)},PI=Math.PI,add_to=function(e,n){return e.push(n),n},make_point=function(e,n,o,t,r){return null==t&&(t=1),null==r&&(r=15),add_to(e,new THREE.Mesh(new THREE.SphereGeometry(n,r,r),new THREE.MeshLambertMaterial({color:o,transparent:1!==t,opacity:t})))},make_plane=function(e,n,o,t){return null==t&&(t=1),add_to(e,new THREE.Mesh(new THREE.PlaneGeometry(n,n),new THREE.MeshBasicMaterial({color:o,side:THREE.DoubleSide,transparent:1!==t,opacity:t})))},make_line=function(e,n,o,t,r,a){var i,c,s,_;return null==r&&(r=1),null==a&&(a=!0),c=n instanceof THREE.Vector3?n:vec3_from_array(n),_=o instanceof THREE.Vector3?o:vec3_from_array(o),o&&(s=c.clone(),c.sub(_),c.setLength(camera_far),c.add(_),_.sub(s),_.setLength(camera_far),_.add(s)),i=new THREE.Geometry,i.vertices.push(c,_),add_to(e,new THREE.Line(i,new THREE.LineBasicMaterial({color:t,linewidth:r})))},make_p_point=function(e,n,o){var t,r,a,i;return t=make_point(r2_objects,.01,o),t.position.z=1,t.position.x=e,t.position.y=n,r=make_line(root_objects,[-e,-n,-1],[e,n,1],o),a=make_point(s2_objects,.0075,o),a.position.copy(vec3(e,n,1).normalize()),i=make_point(s2_objects,.0075,o),i.position.copy(vec3(-e,-n,-1).normalize()),[t,r,a,i]},make_p_line=function(e,n,o,t,r){var a,i,c,s;return null==t&&(t=1),null==r&&(r=!1),i=make_plane(root_objects,3,o,t),c=vec3(e[0],e[1],1),s=vec3(n[0],n[1],1),make_line(r2_objects,c.clone(),s.clone(),o,9),r&&(make_p_point(e[0],e[1],o),make_p_point(n[0],n[1],o)),c.cross(s),a=c.angleTo(vec3(0,0,1)),i.rotation.setFromQuaternion((new THREE.Quaternion).setFromAxisAngle(vec3(1,0,0),a)),i},s2_objects=[],r2_objects=[],root_objects=[],make_point(root_objects,.02,16777215),make_plane(root_objects,2,12320699),make_p_point(0,0,16711680),make_p_point(.5,.5,16711680),make_p_line([.25,.25],[-.25,.25],16711935,.5,!0),s2=make_point(s2_objects,1,16777215,.2,90),s2_objects.push(s2),r2=make_plane(r2_objects,2,16777147),r2.position.z=1,transform=(new THREE.Matrix4).set(2,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0),i=0,len=root_objects.length;len>i;i++)obj=root_objects[i],scene.add(obj);for(j=0,len1=s2_objects.length;len1>j;j++)obj=s2_objects[j],scene.add(obj);for(k=0,len2=r2_objects.length;len2>k;k++)obj=r2_objects[k],scene.add(obj);scene.add(new THREE.AmbientLight(4210752)),scene.add(new THREE.HemisphereLight(16777215,4210752,1)),controls=new THREE.OrbitControls(camera,renderer.domElement),camera.position.z=2,time=3*-PI/4,camera.position.y=3*Math.sin(time),camera.position.x=3*Math.cos(time),camera.lookAt(vec3(0,0,0)),controls_active=!0,(render=function(){requestAnimationFrame(render),renderer.render(scene,camera),controls_active?controls.update:(time+=.005,camera.position.y=3*Math.sin(time),camera.position.x=3*Math.cos(time),camera.lookAt(vec3(0,0,0)))})();
//# sourceMappingURL=vis.min.js.map